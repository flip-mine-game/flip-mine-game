let balance = localStorage.getItem("balance") || 0;
let lastClaim = localStorage.getItem("lastClaim") || 0;
const cooldown = 60; // segundos

const balanceEl = document.getElementById("balance");
const btn = document.getElementById("claimBtn");
const timerEl = document.getElementById("timer");

balanceEl.innerText = balance;

function updateTimer() {
  const now = Math.floor(Date.now() / 1000);
  const diff = now - lastClaim;

  if (diff >= cooldown) {
    btn.disabled = false;
    timerEl.innerText = "Pronto para ganhar!";
  } else {
    btn.disabled = true;
    timerEl.innerText = `Aguarde ${cooldown - diff}s`;
  }
}

btn.onclick = () => {
  balance = parseInt(balance) + 10;
  lastClaim = Math.floor(Date.now() / 1000);

  localStorage.setItem("balance", balance);
  localStorage.setItem("lastClaim", lastClaim);

  balanceEl.innerText = balance;
  updateTimer();
};

setInterval(updateTimer, 1000);
updateTimer();
